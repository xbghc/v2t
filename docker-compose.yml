services:
  v2t:
    build: .
    image: v2t:latest
    pull_policy: build
    ports:
      - "8100:8100"
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - OPENAI_BASE_URL=${OPENAI_BASE_URL:-https://api.deepseek.com}
      - OPENAI_MODEL=${OPENAI_MODEL:-deepseek-reasoner}
      - WHISPER_API_KEY=${WHISPER_API_KEY}
      - WHISPER_BASE_URL=${WHISPER_BASE_URL:-https://api.groq.com/openai/v1}
      - WHISPER_MODEL=${WHISPER_MODEL:-whisper-large-v3}
      - DASHSCOPE_API_KEY=${DASHSCOPE_API_KEY}
      - XIAZAITOOL_TOKEN=${XIAZAITOOL_TOKEN}
    restart: unless-stopped
    extra_hosts:
      - "host.docker.internal:host-gateway"
